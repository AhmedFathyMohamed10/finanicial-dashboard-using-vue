"use strict";(self["webpackChunkvue_dashboard"]=self["webpackChunkvue_dashboard"]||[]).push([[923],{3923:function(t,a,e){e.r(a),e.d(a,{default:function(){return c}});e(1454);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"billing-page"},[a("div",{staticClass:"section current-plan"},[a("div",{staticClass:"section-header"},[a("h2",[t._v("Current Plan")]),a("span",{class:["plan-status",t.subscription.status]},[t._v(" "+t._s(t.subscription.status)+" ")])]),a("div",{staticClass:"plan-details"},[a("div",{staticClass:"plan-info"},[a("h3",[t._v(t._s(t.subscription.planName))]),a("p",{staticClass:"plan-price"},[t._v(" $"+t._s(t.subscription.price)),a("span",[t._v("/month")])]),a("p",{staticClass:"renewal-info"},[t._v(" Next billing date: "+t._s(t.formatDate(t.subscription.nextBillingDate))+" ")])]),a("div",{staticClass:"plan-actions"},["active"===t.subscription.status?a("button",{staticClass:"upgrade-btn",on:{click:function(a){t.showUpgradeModal=!0}}},[t._v(" Upgrade Plan ")]):t._e(),"active"===t.subscription.status?a("button",{staticClass:"cancel-btn",on:{click:function(a){t.showCancelModal=!0}}},[t._v(" Cancel Plan ")]):t._e()])]),a("div",{staticClass:"plan-features"},[a("h4",[t._v("Your Plan Features")]),t.isLoading?a("div",{staticClass:"features-loading"},[a("i",{staticClass:"fas fa-spinner fa-spin"}),t._v(" Loading features... ")]):t.error?a("div",{staticClass:"features-error"},[a("i",{staticClass:"fas fa-exclamation-circle"}),t._v(" "+t._s(t.error)+" ")]):a("div",[t.currentPlanFeatures.length?a("ul",t._l(t.currentPlanFeatures,(function(e){return a("li",{key:e},[a("i",{staticClass:"fas fa-check"}),t._v(" "+t._s(e)+" ")])})),0):a("div",{staticClass:"features-empty"},[a("i",{staticClass:"fas fa-info-circle"}),t._v(" No features available for this plan ")])])])]),a("div",{staticClass:"section payment-methods"},[a("div",{staticClass:"section-header"},[a("h2",[t._v("Payment Methods")]),a("button",{staticClass:"add-payment-btn",on:{click:function(a){t.showAddPaymentModal=!0}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Add Payment Method ")])]),a("div",{staticClass:"payment-methods-list"},t._l(t.paymentMethods,(function(e){return a("div",{key:e.id,staticClass:"payment-method-card",class:{default:e.isDefault}},[a("div",{staticClass:"card-icon"},[a("i",{class:t.getCardIcon(e.type)})]),a("div",{staticClass:"card-details"},[a("h3",[t._v(t._s(e.type)+" •••• "+t._s(e.lastFour))]),a("p",[t._v("Expires "+t._s(e.expiry))]),e.isDefault?a("span",{staticClass:"default-badge"},[t._v("Default")]):t._e()]),a("div",{staticClass:"card-actions"},[e.isDefault?t._e():a("button",{staticClass:"make-default-btn",on:{click:function(a){return t.setDefaultPayment(e.id)}}},[t._v(" Make Default ")]),e.isDefault?t._e():a("button",{staticClass:"remove-btn",on:{click:function(a){return t.removePaymentMethod(e.id)}}},[a("i",{staticClass:"fas fa-trash"})])])])})),0)]),a("div",{staticClass:"section billing-history"},[a("div",{staticClass:"section-header"},[a("h2",[t._v("Billing History")]),a("div",{staticClass:"history-filters"},[a("div",{staticClass:"search-box"},[a("i",{staticClass:"fas fa-search"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{type:"text",placeholder:"Search invoices..."},domProps:{value:t.searchQuery},on:{input:function(a){a.target.composing||(t.searchQuery=a.target.value)}}})]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.statusFilter,expression:"statusFilter"}],staticClass:"status-filter",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.statusFilter=a.target.multiple?e:e[0]}}},[a("option",{attrs:{value:""}},[t._v("All Status")]),a("option",{attrs:{value:"paid"}},[t._v("Paid")]),a("option",{attrs:{value:"pending"}},[t._v("Pending")]),a("option",{attrs:{value:"failed"}},[t._v("Failed")])])])]),a("div",{staticClass:"billing-table"},[a("table",[t._m(0),a("tbody",t._l(t.filteredInvoices,(function(e){return a("tr",{key:e.id},[a("td",[a("div",{staticClass:"invoice-info"},[a("span",{staticClass:"invoice-id"},[t._v(t._s(e.number))]),a("span",{staticClass:"invoice-desc"},[t._v(t._s(e.description))])])]),a("td",[t._v("$"+t._s(t.formatNumber(e.amount)))]),a("td",[t._v(t._s(t.formatDate(e.date)))]),a("td",[a("span",{class:["status-badge",e.status]},[t._v(" "+t._s(e.status)+" ")])]),a("td",[a("div",{staticClass:"invoice-actions"},[a("button",{staticClass:"download-btn",on:{click:function(a){return t.downloadInvoice(e.id)}}},[a("i",{staticClass:"fas fa-download"}),t._v(" Download ")]),"pending"===e.status?a("button",{staticClass:"pay-btn",on:{click:function(a){return t.payInvoice(e.id)}}},[t._v(" Pay Now ")]):t._e()])])])})),0)])]),a("div",{staticClass:"pagination"},[a("button",{staticClass:"page-btn",attrs:{disabled:1===t.currentPage},on:{click:function(a){t.currentPage--}}},[a("i",{staticClass:"fas fa-chevron-left"})]),a("span",{staticClass:"page-info"},[t._v(" Page "+t._s(t.currentPage)+" of "+t._s(t.totalPages)+" ")]),a("button",{staticClass:"page-btn",attrs:{disabled:t.currentPage===t.totalPages},on:{click:function(a){t.currentPage++}}},[a("i",{staticClass:"fas fa-chevron-right"})])])]),t.showUpgradeModal?a("div",{staticClass:"modal",on:{click:function(a){return a.target!==a.currentTarget?null:t.closeUpgradeModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h2",[t._v("Upgrade Plan")]),a("button",{staticClass:"close-btn",on:{click:t.closeUpgradeModal}},[a("i",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"plans-grid"},t._l(t.subscription.availablePlans,(function(e){return a("div",{key:e.id,staticClass:"plan-card",class:{selected:t.selectedPlan===e.id},on:{click:function(a){return t.selectPlan(e.id)}}},[a("div",{staticClass:"plan-header"},[a("h3",[t._v(t._s(e.name))]),a("p",{staticClass:"plan-price"},[t._v(" $"+t._s(e.price)),a("span",[t._v("/month")])])]),a("div",{staticClass:"plan-features"},[a("ul",t._l(e.features,(function(e){return a("li",{key:e},[a("i",{staticClass:"fas fa-check"}),t._v(" "+t._s(e)+" ")])})),0)])])})),0)]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"cancel-btn",on:{click:t.closeUpgradeModal}},[t._v("Cancel")]),a("button",{staticClass:"confirm-btn",attrs:{disabled:!t.selectedPlan},on:{click:t.confirmUpgrade}},[t._v(" Confirm Upgrade ")])])])]):t._e(),t.showCancelModal?a("div",{staticClass:"modal",on:{click:function(a){return a.target!==a.currentTarget?null:t.closeCancelModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h2",[t._v("Cancel Subscription")]),a("button",{staticClass:"close-btn",on:{click:t.closeCancelModal}},[a("i",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"modal-body"},[t._m(1),a("div",{staticClass:"cancellation-form"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Reason for cancellation")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.cancellationReason,expression:"cancellationReason"}],on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.cancellationReason=a.target.multiple?e:e[0]}}},[a("option",{attrs:{value:""}},[t._v("Select a reason")]),a("option",{attrs:{value:"too_expensive"}},[t._v("Too expensive")]),a("option",{attrs:{value:"not_using"}},[t._v("Not using enough")]),a("option",{attrs:{value:"missing_features"}},[t._v("Missing features")]),a("option",{attrs:{value:"switched_service"}},[t._v("Switched to another service")]),a("option",{attrs:{value:"other"}},[t._v("Other")])])]),"other"===t.cancellationReason?a("div",{staticClass:"form-group"},[a("label",[t._v("Please specify")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cancellationFeedback,expression:"cancellationFeedback"}],attrs:{placeholder:"Tell us more about why you're leaving...",rows:"4"},domProps:{value:t.cancellationFeedback},on:{input:function(a){a.target.composing||(t.cancellationFeedback=a.target.value)}}})]):t._e()])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"keep-btn",on:{click:t.closeCancelModal}},[t._v("Keep Subscription")]),a("button",{staticClass:"cancel-subscription-btn",attrs:{disabled:!t.cancellationReason},on:{click:t.confirmCancellation}},[t._v(" Cancel Subscription ")])])])]):t._e(),t.showAddPaymentModal?a("div",{staticClass:"modal",on:{click:function(a){return a.target!==a.currentTarget?null:t.closePaymentModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h2",[t._v("Add Payment Method")]),a("button",{staticClass:"close-btn",on:{click:t.closePaymentModal}},[a("i",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"payment-form",on:{submit:function(a){return a.preventDefault(),t.addPaymentMethod.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Card Holder Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentForm.cardHolder,expression:"paymentForm.cardHolder"}],attrs:{type:"text",placeholder:"Name on card",required:""},domProps:{value:t.paymentForm.cardHolder},on:{input:function(a){a.target.composing||t.$set(t.paymentForm,"cardHolder",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Card Number")]),a("div",{staticClass:"card-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentForm.cardNumber,expression:"paymentForm.cardNumber"}],attrs:{type:"text",placeholder:"1234 5678 9012 3456",maxlength:"19",required:""},domProps:{value:t.paymentForm.cardNumber},on:{input:[function(a){a.target.composing||t.$set(t.paymentForm,"cardNumber",a.target.value)},t.formatCardNumber]}}),a("i",{class:t.cardTypeIcon})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Expiry Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentForm.expiry,expression:"paymentForm.expiry"}],attrs:{type:"text",placeholder:"MM/YY",maxlength:"5",required:""},domProps:{value:t.paymentForm.expiry},on:{input:[function(a){a.target.composing||t.$set(t.paymentForm,"expiry",a.target.value)},t.formatExpiry]}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("CVV")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentForm.cvv,expression:"paymentForm.cvv"}],attrs:{type:"text",placeholder:"123",maxlength:"4",required:""},domProps:{value:t.paymentForm.cvv},on:{input:function(a){a.target.composing||t.$set(t.paymentForm,"cvv",a.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"checkbox-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentForm.setDefault,expression:"paymentForm.setDefault"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.paymentForm.setDefault)?t._i(t.paymentForm.setDefault,null)>-1:t.paymentForm.setDefault},on:{change:function(a){var e=t.paymentForm.setDefault,s=a.target,i=!!s.checked;if(Array.isArray(e)){var n=null,r=t._i(e,n);s.checked?r<0&&t.$set(t.paymentForm,"setDefault",e.concat([n])):r>-1&&t.$set(t.paymentForm,"setDefault",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.paymentForm,"setDefault",i)}}}),a("span",{staticClass:"checkmark"}),t._v(" Set as default payment method ")])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"cancel-btn",on:{click:t.closePaymentModal}},[t._v("Cancel")]),a("button",{staticClass:"confirm-btn",attrs:{disabled:!t.isPaymentFormValid},on:{click:t.addPaymentMethod}},[t._v(" Add Payment Method ")])])])]):t._e()])},i=[function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("Invoice")]),a("th",[t._v("Amount")]),a("th",[t._v("Date")]),a("th",[t._v("Status")]),a("th",[t._v("Actions")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"cancellation-warning"},[a("i",{staticClass:"fas fa-exclamation-triangle"}),a("h3",[t._v("Are you sure you want to cancel?")]),a("p",[t._v("Your subscription will be cancelled at the end of your current billing period.")])])}],n=(e(8992),e(4520),e(2577),{name:"BillingSubscriptions",data(){return{selectedPlan:null,subscription:{planName:"Professional Plan",status:"active",price:49.99,nextBillingDate:"2024-02-28",showUpgradeModal:!1,isLoading:!1,error:null,availablePlans:[{id:1,name:"Professional",price:49.99,features:["All Basic Features","Priority Support","Custom Domain","Analytics Dashboard"]},{id:2,name:"Business",price:99.99,features:["All Professional Features","Team Collaboration","API Access","Custom Branding"]},{id:3,name:"Enterprise",price:199.99,features:["All Business Features","Dedicated Support","Custom Integration","SLA Guarantee"]}]},paymentMethods:[{id:1,type:"Visa",lastFour:"4242",expiry:"12/24",isDefault:!0},{id:2,type:"Mastercard",lastFour:"5555",expiry:"09/25",isDefault:!1}],invoices:[{id:1,number:"INV-2024-001",description:"Professional Plan - January 2024",amount:49.99,date:"2024-01-01",status:"paid"},{id:2,number:"INV-2024-002",description:"Business Plan - January 2024",amount:99.99,date:"2024-01-01",status:"pending"},{id:3,number:"INV-2024-003",description:"Enterprise Plan - January 2024",amount:199.99,date:"2024-01-01",status:"failed"},{id:4,number:"INV-2024-004",description:"Professional Plan - February 2024",amount:49.99,date:"2024-02-01",status:"paid"}],searchQuery:"",statusFilter:"",currentPage:1,itemsPerPage:10,showUpgradeModal:!1,showCancelModal:!1,showAddPaymentModal:!1,cancellationReason:"",cancellationFeedback:"",paymentForm:{cardHolder:"",cardNumber:"",expiry:"",cvv:"",setDefault:!1}}},computed:{filteredInvoices(){return this.invoices.filter((t=>{const a=t.number.toLowerCase().includes(this.searchQuery.toLowerCase())||t.description.toLowerCase().includes(this.searchQuery.toLowerCase()),e=!this.statusFilter||t.status===this.statusFilter;return a&&e})).slice((this.currentPage-1)*this.itemsPerPage,this.currentPage*this.itemsPerPage)},totalPages(){return Math.ceil(this.invoices.length/this.itemsPerPage)},isPaymentFormValid(){const{cardHolder:t,cardNumber:a,expiry:e,cvv:s}=this.paymentForm;return t&&16===a.replace(/\s/g,"").length&&5===e.length&&s.length>=3},cardTypeIcon(){const t=this.paymentForm.cardNumber.replace(/\s/g,"");return t.startsWith("4")?"fab fa-cc-visa":t.startsWith("5")?"fab fa-cc-mastercard":t.startsWith("3")?"fab fa-cc-amex":t.startsWith("6")?"fab fa-cc-discover":"fas fa-credit-card"},currentPlanFeatures(){const t=this.subscription.availablePlans.find((t=>t.name===this.subscription.planName));return t?t.features:[]},hasError(){return!this.currentPlanFeatures.length}},methods:{formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},formatNumber(t){return t.toFixed(2)},getCardIcon(t){const a={Visa:"fab fa-cc-visa",Mastercard:"fab fa-cc-mastercard","American Express":"fab fa-cc-amex",Discover:"fab fa-cc-discover"};return a[t]||"fas fa-credit-card"},async setDefaultPayment(t){try{this.paymentMethods=this.paymentMethods.map((a=>({...a,isDefault:a.id===t})))}catch(a){console.error("Failed to set default payment method:",a)}},async removePaymentMethod(t){try{this.paymentMethods=this.paymentMethods.filter((a=>a.id!==t))}catch(a){console.error("Failed to remove payment method:",a)}},async downloadInvoice(t){try{console.log("Downloading invoice:",t)}catch(a){console.error("Failed to download invoice:",a)}},async payInvoice(t){try{console.log("Paying invoice:",t)}catch(a){console.error("Failed to pay invoice:",a)}},selectPlan(t){this.selectedPlan=t,console.log("Selected plan:",t)},closeUpgradeModal(){this.showUpgradeModal=!1,this.selectedPlan=null},async confirmUpgrade(){if(this.selectedPlan)try{const t=this.subscription.availablePlans.find((t=>t.id===this.selectedPlan));if(!t)return void console.error("Selected plan not found");console.log("Upgrading to plan:",t),await new Promise((t=>setTimeout(t,1e3))),this.subscription.planName=t.name,this.subscription.price=t.price,this.closeUpgradeModal(),console.log("Plan upgraded successfully")}catch(t){console.error("Failed to upgrade plan:",t)}},closeCancelModal(){this.showCancelModal=!1,this.cancellationReason="",this.cancellationFeedback=""},async confirmCancellation(){try{console.log("Cancelling subscription:",{reason:this.cancellationReason,feedback:this.cancellationFeedback}),this.closeCancelModal()}catch(t){console.error("Failed to cancel subscription:",t)}},closePaymentModal(){this.showAddPaymentModal=!1,this.paymentForm={cardHolder:"",cardNumber:"",expiry:"",cvv:"",setDefault:!1}},formatCardNumber(t){let a=t.target.value.replace(/\s/g,"");a.length>16&&(a=a.substr(0,16)),this.paymentForm.cardNumber=a.replace(/(.{4})/g,"$1 ").trim()},formatExpiry(t){let a=t.target.value.replace(/\D/g,"");a.length>=2&&(a=a.substr(0,2)+"/"+a.substr(2)),this.paymentForm.expiry=a},async addPaymentMethod(){if(this.isPaymentFormValid)try{console.log("Adding payment method:",this.paymentForm),this.closePaymentModal()}catch(t){console.error("Failed to add payment method:",t)}}}}),r=n,o=e(1656),l=(0,o.A)(r,s,i,!1,null,"091d1a19",null),c=l.exports},116:function(t,a,e){var s=e(6518),i=e(2652),n=e(9306),r=e(8551),o=e(1767);s({target:"Iterator",proto:!0,real:!0},{find:function(t){r(this),n(t);var a=o(this),e=0;return i(a,(function(a,s){if(t(a,e++))return s(a)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},2577:function(t,a,e){e(116)}}]);
//# sourceMappingURL=923.5f3b020e.js.map